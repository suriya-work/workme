// Generated by CoffeeScript 1.7.1
var adapter, indexTypes;

adapter = require('./redis_adapter');

indexTypes = require('./index_types');

module.exports = {
  adapter: adapter,
  index: indexTypes,
  plugin: function(db, opts) {
    return {
      beforeDefine: function(model, properties, opts) {
        var property, _i, _len, _ref, _results;
        if (opts.indexes == null) {
          return;
        }
        _ref = Object.keys(opts.indexes);
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          property = _ref[_i];
          _results.push(adapter.index(model, property, opts.indexes[property]));
        }
        return _results;
      }
    };
  }
};
